<!-- Generated by SpecStory -->

# UI design based on architecture records (2025-06-19 18:30:05)

_**User**_

@adr_001_cloud_storage_adr.md @adr_002_ui_ux.md @adr_003_security.md @adr_004_operations.md @adr_005_disaster_recovery.md ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ã‚‚å…ƒã«@doc-03-ui-concept-prototype.mdc ã®ç”»é¢UIã‚’ä½œæˆã—ã¦ã‚‚ã‚‰ãˆã¾ã™ã‹

---

_**Assistant**_



---

ã“ã‚“ã«ã¡ã¯ï¼ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚¯ãƒ©ã‚¦ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãŠæ‰‹ä¼ã„ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚

ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã‚’ç¢ºèªã—ãŸã¨ã“ã‚ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã­ã€‚è¨­è¨ˆæ›¸ã‚„ADRï¼ˆArchitecture Decision Recordï¼‰ãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹ã®ãŒç´ æ™´ã‚‰ã—ã„ã§ã™ã€‚

ä»Šæ—¥ã¯ã©ã®ã‚ˆã†ãªä½œæ¥­ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ

- å®Ÿè£…ã®é–‹å§‹ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰
- è¨­è¨ˆæ›¸ã®ç¢ºèªã‚„æ›´æ–°
- æŠ€è¡“çš„ãªç›¸è«‡ã‚„å­¦ç¿’
- ãã®ä»–ã®ã”è³ªå•

ä½•ã§ã‚‚ãŠæ°—è»½ã«ãŠèã‹ã›ãã ã•ã„ï¼ğŸŒŸ

---

_**User**_

@doc-03-ui-concept-prototype.mdc ç”»é¢UIã‚’ä½œæˆã—ã¦ãã‚Œã¾ã›ã‚“ã‹

---

_**Assistant**_



---

<details>
            <summary>Listed current directory â€¢ **5** results</summary>
        
| Name |
|-------|
| ğŸ“ `docs` |
| ğŸ“ `.cursor` |
| ğŸ“ `.specstory` |
| ğŸ“„ `.cursorindexingignore` |
| ğŸ“„ `.DS_Store` |

</details>

---

<details>
            <summary>Listed directory docs â€¢ **8** results</summary>
        
| Name |
|-------|
| ğŸ“„ `adr_005_disaster_recovery.md` |
| ğŸ“„ `adr_004_operations.md` |
| ğŸ“„ `adr_003_security.md` |
| ğŸ“„ `adr_002_ui_ux.md` |
| ğŸ“„ `adr_001_cloud_storage_adr.md` |
| ğŸ“„ `family_cloud_detailed_design.md` |
| ğŸ“„ `family_cloud_db_design.md` |
| ğŸ“„ `family_cloud_implementation_supplement.md` |

</details>

---



---

Read file: docs/adr_002_ui_ux.md

---

Read file: docs/adr_002_ui_ux.md

---

Read file: docs/family_cloud_detailed_design.md

---



---



---

```bash
npx create-next-app@latest family-cloud-prototype --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"
```

```
âœ” Would you like to use Turbopack for `next dev`? â€¦ No / Yes
Creating a new Next.js app in /Users/fumipen/Documents/progress/family_cloud_sys
tem/family-cloud-prototype.

Using npm.

Initializing project with template: app-tw 


Installing dependencies:
- react
- react-dom
- next

Installing devDependencies:
- typescript
- @types/node
- @types/react
- @types/react-dom
- @tailwindcss/postcss
- tailwindcss
- eslint
- eslint-config-next
- @eslint/eslintrc


added 341 packages, and audited 342 packages in 28s

137 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
Initialized a git repository.

Success! Created family-cloud-prototype at /Users/fumipen/Documents/progress/fam
ily_cloud_system/family-clou
d-prototype
                            

```

---

```bash
cd family-cloud-prototype && npx shadcn-ui@latest init
```

```
â—cd family-cloud-prototype && npx shadcn-ui@latest init
The 'shadcn-ui' package is deprecated. Please use the 'shadcn' package instead:

  npx shadcn@latest init

For more information, visit: https://ui.shadcn.com/docs/cli

(base) 
~/.../family_cloud_system/family-cloud-prototype
â—                                                                                                ã€ main ã€‘
```

---

```bash
npx shadcn@latest init
```

```
â—npx shadcn@latest init                                                                          ã€ main ã€‘
âœ” Preflight checks.
âœ” Verifying framework. Found Next.js.
âœ” Validating Tailwind CSS config. Found v4.
âœ” Validating import alias.
âœ” Which color would you like to use as the base color? â€º Neutral
âœ” Writing components.json.
âœ” Checking registry.
âœ” Updating CSS variables in src/app/globals.css
âœ” Installing dependencies.
âœ” Created 1 file:
  - src/lib/utils.ts

Success! Project initialization completed.
You may now add components.

(base) 
~/.../family_cloud_system/family-cloud-prototype
â—                                                                                                ã€ main ã€‘
```

---

```bash
npx shadcn@latest add button card input modal table avatar progress badge
```

```
â—npx shadcn@latest add button card input modal table avatar progress badge                       ã€ main ã€‘
â ¸ Checking registry.

Something went wrong. Please check the error below for more details.
If the problem persists, please open an issue on GitHub.

The component at https://ui.shadcn.com/r/styles/new-york-v4/modal.json was not found.
It may not exist at the registry. Please make sure it is a valid component.

(base) 
~/.../family_cloud_system/family-cloud-prototype
â—                                                                                                ã€ main ã€‘
```

---

```bash
npx shadcn@latest add button card input dialog table avatar progress badge
```

```
â—npx shadcn@latest add button card input dialog table avatar progress badge                      ã€ main ã€‘
âœ” Checking registry.
âœ” Installing dependencies.
âœ” Created 8 files:
  - src/components/ui/button.tsx
  - src/components/ui/card.tsx
  - src/components/ui/input.tsx
  - src/components/ui/dialog.tsx
  - src/components/ui/table.tsx
  - src/components/ui/avatar.tsx
  - src/components/ui/progress.tsx
  - src/components/ui/badge.tsx

(base) 
~/.../family_cloud_system/family-cloud-prototype
â—                                                                                                ã€ main ã€‘
```

---

```bash
npm install lucide-react zustand @types/node
```

```
â—npm install lucide-react zustand @types/node                                                    ã€ main ã€‘

added 1 package, and audited 377 packages in 2s

140 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
(base) 
~/.../family_cloud_system/family-cloud-prototype
â—                                                                                                ã€ main ã€‘
```

---



---

```diff
- 
+ import type { Config } from "tailwindcss";
+ 
+ const config: Config = {
+   darkMode: ["class"],
+   content: [
+     "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
+     "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
+     "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
+   ],
+   theme: {
+     extend: {
+       colors: {
+         // å®¶æ—æ„Ÿã®ã‚ã‚‹æ¸©ã‹ã„è‰²èª¿
+         primary: {
+           50: '#eff6ff',
+           100: '#dbeafe',
+           200: '#bfdbfe',
+           300: '#93c5fd',
+           400: '#60a5fa',
+           500: '#3b82f6',
+           600: '#2563eb',
+           700: '#1d4ed8',
+           800: '#1e40af',
+           900: '#1e3a8a',
+         },
+         secondary: {
+           green: '#10b981',
+           orange: '#f59e0b',
+           red: '#ef4444',
+         },
+         background: 'hsl(var(--background))',
+         foreground: 'hsl(var(--foreground))',
+         card: {
+           DEFAULT: 'hsl(var(--card))',
+           foreground: 'hsl(var(--card-foreground))'
+         },
+         popover: {
+           DEFAULT: 'hsl(var(--popover))',
+           foreground: 'hsl(var(--popover-foreground))'
+         },
+         muted: {
+           DEFAULT: 'hsl(var(--muted))',
+           foreground: 'hsl(var(--muted-foreground))'
+         },
+         accent: {
+           DEFAULT: 'hsl(var(--accent))',
+           foreground: 'hsl(var(--accent-foreground))'
+         },
+         destructive: {
+           DEFAULT: 'hsl(var(--destructive))',
+           foreground: 'hsl(var(--destructive-foreground))'
+         },
+         border: 'hsl(var(--border))',
+         input: 'hsl(var(--input))',
+         ring: 'hsl(var(--ring))',
+         chart: {
+           '1': 'hsl(var(--chart-1))',
+           '2': 'hsl(var(--chart-2))',
+           '3': 'hsl(var(--chart-3))',
+           '4': 'hsl(var(--chart-4))',
+           '5': 'hsl(var(--chart-5))'
+         }
+       },
+       fontSize: {
+         'xs': '12px',
+         'sm': '14px',
+         'base': '16px', // æœ€å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º
+         'lg': '18px',
+         'xl': '20px',
+         '2xl': '24px',
+         '3xl': '30px',
+       },
+       spacing: {
+         'touch': '44px', // ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆæœ€å°ã‚µã‚¤ã‚º
+       },
+       fontFamily: {
+         sans: [
+           'Hiragino Kaku Gothic ProN',
+           'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ ProN W3',
+           'Yu Gothic',
+           'æ¸¸ã‚´ã‚·ãƒƒã‚¯',
+           'Meiryo',
+           'ãƒ¡ã‚¤ãƒªã‚ª',
+           'sans-serif'
+         ],
+       },
+       borderRadius: {
+         lg: 'var(--radius)',
+         md: 'calc(var(--radius) - 2px)',
+         sm: 'calc(var(--radius) - 4px)'
+       }
+     }
+   },
+   plugins: [require("tailwindcss-animate")],
+ };
+ 
+ export default config; 
```

---

```diff
  
  const config: Config = {
-   darkMode: ["class"],
+   darkMode: "class",
    content: [
      "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
```

---

```diff
- 
+ // ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£ã®å‹å®šç¾©
+ export interface User {
+   id: string;
+   email: string;
+   username: string;
+   role: 'admin' | 'user';
+   avatar_url?: string;
+   created_at: string;
+ }
+ 
+ export interface LoginCredentials {
+   email: string;
+   password: string;
+ }
+ 
+ export interface RegisterData {
+   username: string;
+   email: string;
+   password: string;
+ }
+ 
+ // ãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£ã®å‹å®šç¾©
+ export interface FileItem {
+   id: string;
+   filename: string;
+   original_name: string;
+   file_size: number;
+   mime_type: string;
+   folder_id: string | null;
+   user_id: string;
+   created_at: string;
+   updated_at: string;
+   storage_path: string;
+   thumbnail_url?: string;
+ }
+ 
+ export interface FolderItem {
+   id: string;
+   name: string;
+   parent_id: string | null;
+   user_id: string;
+   created_at: string;
+   updated_at: string;
+   children?: FolderItem[];
+   file_count?: number;
+ }
+ 
+ // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é–¢é€£ã®å‹å®šç¾©
+ export interface UploadFile {
+   file: File;
+   id: string;
+   progress: number;
+   status: 'pending' | 'uploading' | 'completed' | 'error';
+   error?: string;
+ }
+ 
+ // ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ã®å‹å®šç¾©
+ export interface StorageUsage {
+   user_id: string;
+   total_size: number;
+   file_count: number;
+   quota: number;
+   updated_at: string;
+ }
+ 
+ // APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹å®šç¾©
+ export interface ApiResponse<T> {
+   success: boolean;
+   data?: T;
+   error?: string;
+   message?: string;
+ }
+ 
+ export interface PaginatedResponse<T> {
+   items: T[];
+   total: number;
+   page: number;
+   pages: number;
+   limit: number;
+ }
+ 
+ // èªè¨¼ã‚¹ãƒˆã‚¢ã®å‹å®šç¾©
+ export interface AuthState {
+   user: User | null;
+   isLoading: boolean;
+   isAuthenticated: boolean;
+   login: (credentials: LoginCredentials) => Promise<void>;
+   logout: () => Promise<void>;
+   register: (data: RegisterData) => Promise<void>;
+   checkAuth: () => Promise<void>;
+ }
+ 
+ // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆã‚¢ã®å‹å®šç¾©
+ export interface FileState {
+   files: FileItem[];
+   folders: FolderItem[];
+   currentFolder: string | null;
+   selectedFiles: string[];
+   uploadFiles: UploadFile[];
+   storageUsage: StorageUsage | null;
+   isLoading: boolean;
+   
+   // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
+   fetchFiles: (folderId?: string) => Promise<void>;
+   fetchFolders: () => Promise<void>;
+   uploadFile: (file: File, folderId?: string) => Promise<void>;
+   deleteFile: (fileId: string) => Promise<void>;
+   createFolder: (name: string, parentId?: string) => Promise<void>;
+   deleteFolder: (folderId: string) => Promise<void>;
+   setCurrentFolder: (folderId: string | null) => void;
+   toggleFileSelection: (fileId: string) => void;
+   clearSelection: () => void;
+   fetchStorageUsage: () => Promise<void>;
+ } 
```

---

```diff
- 
+ import { User, FileItem, FolderItem, StorageUsage } from '@/types';
+ 
+ // ãƒ¢ãƒƒã‚¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿
+ export const mockUsers: User[] = [
+   {
+     id: '1',
+     email: 'father@family.com',
+     username: 'ãŠçˆ¶ã•ã‚“',
+     role: 'admin',
+     avatar_url: '/avatars/father.png',
+     created_at: '2024-01-01T00:00:00Z',
+   },
+   {
+     id: '2',
+     email: 'mother@family.com',
+     username: 'ãŠæ¯ã•ã‚“',
+     role: 'user',
+     avatar_url: '/avatars/mother.png',
+     created_at: '2024-01-01T00:00:00Z',
+   },
+   {
+     id: '3',
+     email: 'child1@family.com',
+     username: 'é•·ç”·',
+     role: 'user',
+     avatar_url: '/avatars/child1.png',
+     created_at: '2024-01-01T00:00:00Z',
+   },
+   {
+     id: '4',
+     email: 'child2@family.com',
+     username: 'é•·å¥³',
+     role: 'user',
+     avatar_url: '/avatars/child2.png',
+     created_at: '2024-01-01T00:00:00Z',
+   },
+ ];
+ 
+ // ãƒ¢ãƒƒã‚¯ãƒ•ã‚©ãƒ«ãƒ€ãƒ‡ãƒ¼ã‚¿
+ export const mockFolders: FolderItem[] = [
+   {
+     id: 'folder-1',
+     name: 'å®¶æ—å†™çœŸ',
+     parent_id: null,
+     user_id: '1',
+     created_at: '2024-01-01T00:00:00Z',
+     updated_at: '2024-01-01T00:00:00Z',
+     file_count: 15,
+   },
+   {
+     id: 'folder-2',
+     name: 'å‹•ç”»',
+     parent_id: null,
+     user_id: '1',
+     created_at: '2024-01-01T00:00:00Z',
+     updated_at: '2024-01-01T00:00:00Z',
+     file_count: 8,
+   },
+   {
+     id: 'folder-3',
+     name: 'æ›¸é¡',
+     parent_id: null,
+     user_id: '1',
+     created_at: '2024-01-01T00:00:00Z',
+     updated_at: '2024-01-01T00:00:00Z',
+     file_count: 12,
+   },
+   {
+     id: 'folder-4',
+     name: '2024å¹´æ—…è¡Œ',
+     parent_id: 'folder-1',
+     user_id: '2',
+     created_at: '2024-03-01T00:00:00Z',
+     updated_at: '2024-03-01T00:00:00Z',
+     file_count: 25,
+   },
+   {
+     id: 'folder-5',
+     name: 'å­ä¾›ã®ä½œå“',
+     parent_id: 'folder-1',
+     user_id: '3',
+     created_at: '2024-02-01T00:00:00Z',
+     updated_at: '2024-02-01T00:00:00Z',
+     file_count: 8,
+   },
+ ];
+ 
+ // ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿
+ export const mockFiles: FileItem[] = [
+   {
+     id: 'file-1',
+     filename: 'family_photo_001.jpg',
+     original_name: 'å®¶æ—å†™çœŸ_001.jpg',
+     file_size: 2048576, // 2MB
+     mime_type: 'image/jpeg',
+     folder_id: 'folder-1',
+     user_id: '1',
+     created_at: '2024-01-15T00:00:00Z',
+     updated_at: '2024-01-15T00:00:00Z',
+     storage_path: '/files/2024/01/family_photo_001.jpg',
+     thumbnail_url: '/thumbnails/family_photo_001_thumb.jpg',
+   },
+   {
+     id: 'file-2',
+     filename: 'vacation_video_001.mp4',
+     original_name: 'æ—…è¡Œå‹•ç”»_001.mp4',
+     file_size: 52428800, // 50MB
+     mime_type: 'video/mp4',
+     folder_id: 'folder-2',
+     user_id: '2',
+     created_at: '2024-02-01T00:00:00Z',
+     updated_at: '2024-02-01T00:00:00Z',
+     storage_path: '/files/2024/02/vacation_video_001.mp4',
+     thumbnail_url: '/thumbnails/vacation_video_001_thumb.jpg',
+   },
+   {
+     id: 'file-3',
+     filename: 'important_document.pdf',
+     original_name: 'é‡è¦æ›¸é¡.pdf',
+     file_size: 1048576, // 1MB
+     mime_type: 'application/pdf',
+     folder_id: 'folder-3',
+     user_id: '1',
+     created_at: '2024-01-10T00:00:00Z',
+     updated_at: '2024-01-10T00:00:00Z',
+     storage_path: '/files/2024/01/important_document.pdf',
+   },
+   {
+     id: 'file-4',
+     filename: 'beach_sunset.jpg',
+     original_name: 'æµ·ã®å¤•æ—¥.jpg',
+     file_size: 3145728, // 3MB
+     mime_type: 'image/jpeg',
+     folder_id: 'folder-4',
+     user_id: '2',
+     created_at: '2024-03-15T00:00:00Z',
+     updated_at: '2024-03-15T00:00:00Z',
+     storage_path: '/files/2024/03/beach_sunset.jpg',
+     thumbnail_url: '/thumbnails/beach_sunset_thumb.jpg',
+   },
+   {
+     id: 'file-5',
+     filename: 'drawing_001.png',
+     original_name: 'çµµç”»ä½œå“_001.png',
+     file_size: 512000, // 500KB
+     mime_type: 'image/png',
+     folder_id: 'folder-5',
+     user_id: '3',
+     created_at: '2024-02-20T00:00:00Z',
+     updated_at: '2024-02-20T00:00:00Z',
+     storage_path: '/files/2024/02/drawing_001.png',
+     thumbnail_url: '/thumbnails/drawing_001_thumb.jpg',
+   },
+   {
+     id: 'file-6',
+     filename: 'school_presentation.pptx',
+     original_name: 'å­¦æ ¡ç™ºè¡¨è³‡æ–™.pptx',
+     file_size: 4194304, // 4MB
+     mime_type: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',
+     folder_id: null, // ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€
+     user_id: '4',
+     created_at: '2024-03-01T00:00:00Z',
+     updated_at: '2024-03-01T00:00:00Z',
+     storage_path: '/files/2024/03/school_presentation.pptx',
+   },
+ ];
+ 
+ // ãƒ¢ãƒƒã‚¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ãƒ‡ãƒ¼ã‚¿
+ export const mockStorageUsage: StorageUsage = {
+   user_id: '1',
+   total_size: 67108864, // 64MB
+   file_count: 45,
+   quota: 214748364800, // 200GB
+   updated_at: '2024-03-20T00:00:00Z',
+ };
+ 
+ // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ã«å¤‰æ›ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
+ export const formatFileSize = (bytes: number): string => {
+   if (bytes === 0) return '0 Bytes';
+   
+   const k = 1024;
+   const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
+   const i = Math.floor(Math.log(bytes) / Math.log(k));
+   
+   return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
+ };
+ 
+ // æ—¥ä»˜ã‚’ç›¸å¯¾çš„ãªè¡¨ç¤ºã«å¤‰æ›ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
+ export const formatRelativeDate = (dateString: string): string => {
+   const date = new Date(dateString);
+   const now = new Date();
+   const diffTime = Math.abs(now.getTime() - date.getTime());
+   const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
+   
+   if (diffDays === 1) return 'æ˜¨æ—¥';
+   if (diffDays < 7) return `${diffDays}æ—¥å‰`;
+   if (diffDays < 30) return `${Math.floor(diffDays / 7)}é€±é–“å‰`;
+   if (diffDays < 365) return `${Math.floor(diffDays / 30)}ãƒ¶æœˆå‰`;
+   
+   return `${Math.floor(diffDays / 365)}å¹´å‰`;
+ };
+ 
+ // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ã‹ã‚‰ã‚¢ã‚¤ã‚³ãƒ³åã‚’å–å¾—ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
+ export const getFileIcon = (mimeType: string): string => {
+   if (mimeType.startsWith('image/')) return 'image';
+   if (mimeType.startsWith('video/')) return 'video';
+   if (mimeType.startsWith('audio/')) return 'music';
+   if (mimeType.includes('pdf')) return 'file-text';
+   if (mimeType.includes('word') || mimeType.includes('document')) return 'file-text';
+   if (mimeType.includes('excel') || mimeType.includes('spreadsheet')) return 'file-spreadsheet';
+   if (mimeType.includes('powerpoint') || mimeType.includes('presentation')) return 'presentation';
+   if (mimeType.includes('zip') || mimeType.includes('rar') || mimeType.includes('archive')) return 'archive';
+   
+   return 'file';
+ }; 
```

---



---

```diff
- 
+ import { create } from 'zustand';
+ import { AuthState, LoginCredentials, RegisterData } from '@/types';
+ import { mockUsers } from '@/lib/mockData';
+ 
+ // ãƒ¢ãƒƒã‚¯èªè¨¼API
+ const mockAuthAPI = {
+   login: async (credentials: LoginCredentials) => {
+     // å®Ÿéš›ã®APIã‚³ãƒ¼ãƒ«ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
+     await new Promise(resolve => setTimeout(resolve, 1000));
+     
+     const user = mockUsers.find(u => u.email === credentials.email);
+     if (!user) {
+       throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
+     }
+     
+     // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯é©åˆ‡ãªæ¤œè¨¼ãŒå¿…è¦ï¼‰
+     if (credentials.password !== 'password123') {
+       throw new Error('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“');
+     }
+     
+     return user;
+   },
+   
+   register: async (data: RegisterData) => {
+     await new Promise(resolve => setTimeout(resolve, 1000));
+     
+     // æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚§ãƒƒã‚¯
+     const existingUser = mockUsers.find(u => u.email === data.email);
+     if (existingUser) {
+       throw new Error('ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™');
+     }
+     
+     const newUser = {
+       id: Date.now().toString(),
+       email: data.email,
+       username: data.username,
+       role: 'user' as const,
+       created_at: new Date().toISOString(),
+     };
+     
+     mockUsers.push(newUser);
+     return newUser;
+   },
+   
+   checkAuth: async () => {
+     await new Promise(resolve => setTimeout(resolve, 500));
+     
+     // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰èªè¨¼æƒ…å ±ã‚’ç¢ºèªï¼ˆç°¡æ˜“å®Ÿè£…ï¼‰
+     const storedUser = localStorage.getItem('currentUser');
+     if (storedUser) {
+       return JSON.parse(storedUser);
+     }
+     
+     return null;
+   },
+ };
+ 
+ export const useAuthStore = create<AuthState>((set, get) => ({
+   user: null,
+   isLoading: false,
+   isAuthenticated: false,
+   
+   login: async (credentials: LoginCredentials) => {
+     set({ isLoading: true });
+     
+     try {
+       const user = await mockAuthAPI.login(credentials);
+       
+       // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯ã‚ˆã‚Šå®‰å…¨ãªæ–¹æ³•ã‚’ä½¿ç”¨ï¼‰
+       localStorage.setItem('currentUser', JSON.stringify(user));
+       
+       set({ 
+         user, 
+         isAuthenticated: true, 
+         isLoading: false 
+       });
+     } catch (error) {
+       set({ isLoading: false });
+       throw error;
+     }
+   },
+   
+   register: async (data: RegisterData) => {
+     set({ isLoading: true });
+     
+     try {
+       const user = await mockAuthAPI.register(data);
+       
+       localStorage.setItem('currentUser', JSON.stringify(user));
+       
+       set({ 
+         user, 
+         isAuthenticated: true, 
+         isLoading: false 
+       });
+     } catch (error) {
+       set({ isLoading: false });
+       throw error;
+     }
+   },
+   
+   logout: async () => {
+     set({ isLoading: true });
+     
+     // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
+     await new Promise(resolve => setTimeout(resolve, 500));
+     
+     localStorage.removeItem('currentUser');
+     
+     set({ 
+       user: null, 
+       isAuthenticated: false, 
+       isLoading: false 
+     });
+   },
+   
+   checkAuth: async () => {
+     set({ isLoading: true });
+     
+     try {
+       const user = await mockAuthAPI.checkAuth();
+       
+       if (user) {
+         set({ 
+           user, 
+           isAuthenticated: true, 
+           isLoading: false 
+         });
+       } else {
+         set({ 
+           user: null, 
+           isAuthenticated: false, 
+           isLoading: false 
+         });
+       }
+     } catch (error) {
+       set({ 
+         user: null, 
+         isAuthenticated: false, 
+         isLoading: false 
+       });
+     }
+   },
+ })); 
```

---

```diff
- 
+ import { create } from 'zustand';
+ import { FileState, FileItem, FolderItem, UploadFile } from '@/types';
+ import { mockFiles, mockFolders, mockStorageUsage } from '@/lib/mockData';
+ 
+ // ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«API
+ const mockFileAPI = {
+   fetchFiles: async (folderId?: string) => {
+     await new Promise(resolve => setTimeout(resolve, 500));
+     
+     if (folderId) {
+       return mockFiles.filter(file => file.folder_id === folderId);
+     }
+     
+     return mockFiles.filter(file => file.folder_id === null);
+   },
+   
+   fetchFolders: async () => {
+     await new Promise(resolve => setTimeout(resolve, 300));
+     return [...mockFolders];
+   },
+   
+   uploadFile: async (file: File, folderId?: string) => {
+     // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é€²æ—ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
+     const uploadId = Date.now().toString();
+     
+     return new Promise<FileItem>((resolve) => {
+       const newFile: FileItem = {
+         id: uploadId,
+         filename: file.name.replace(/[^a-zA-Z0-9.-]/g, '_'),
+         original_name: file.name,
+         file_size: file.size,
+         mime_type: file.type,
+         folder_id: folderId || null,
+         user_id: '1', // ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
+         created_at: new Date().toISOString(),
+         updated_at: new Date().toISOString(),
+         storage_path: `/files/${new Date().getFullYear()}/${String(new Date().getMonth() + 1).padStart(2, '0')}/${file.name}`,
+       };
+       
+       // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
+       setTimeout(() => {
+         mockFiles.push(newFile);
+         resolve(newFile);
+       }, 2000);
+     });
+   },
+   
+   deleteFile: async (fileId: string) => {
+     await new Promise(resolve => setTimeout(resolve, 500));
+     
+     const index = mockFiles.findIndex(file => file.id === fileId);
+     if (index !== -1) {
+       mockFiles.splice(index, 1);
+     }
+   },
+   
+   createFolder: async (name: string, parentId?: string) => {
+     await new Promise(resolve => setTimeout(resolve, 300));
+     
+     const newFolder: FolderItem = {
+       id: `folder-${Date.now()}`,
+       name,
+       parent_id: parentId || null,
+       user_id: '1',
+       created_at: new Date().toISOString(),
+       updated_at: new Date().toISOString(),
+       file_count: 0,
+     };
+     
+     mockFolders.push(newFolder);
+     return newFolder;
+   },
+   
+   deleteFolder: async (folderId: string) => {
+     await new Promise(resolve => setTimeout(resolve, 500));
+     
+     // ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å‰Šé™¤
+     const folderFiles = mockFiles.filter(file => file.folder_id === folderId);
+     folderFiles.forEach(file => {
+       const index = mockFiles.findIndex(f => f.id === file.id);
+       if (index !== -1) {
+         mockFiles.splice(index, 1);
+       }
+     });
+     
+     // ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
+     const index = mockFolders.findIndex(folder => folder.id === folderId);
+     if (index !== -1) {
+       mockFolders.splice(index, 1);
+     }
+   },
+   
+   fetchStorageUsage: async () => {
+     await new Promise(resolve => setTimeout(resolve, 200));
+     
+     // å‹•çš„ã«ä½¿ç”¨é‡ã‚’è¨ˆç®—
+     const totalSize = mockFiles.reduce((total, file) => total + file.file_size, 0);
+     const fileCount = mockFiles.length;
+     
+     return {
+       ...mockStorageUsage,
+       total_size: totalSize,
+       file_count: fileCount,
+       updated_at: new Date().toISOString(),
+     };
+   },
+ };
+ 
+ export const useFileStore = create<FileState>((set, get) => ({
+   files: [],
+   folders: [],
+   currentFolder: null,
+   selectedFiles: [],
+   uploadFiles: [],
+   storageUsage: null,
+   isLoading: false,
+   
+   fetchFiles: async (folderId?: string) => {
+     set({ isLoading: true });
+     
+     try {
+       const files = await mockFileAPI.fetchFiles(folderId);
+       set({ files, isLoading: false });
+     } catch (error) {
+       set({ isLoading: false });
+       console.error('Failed to fetch files:', error);
+     }
+   },
+   
+   fetchFolders: async () => {
+     try {
+       const folders = await mockFileAPI.fetchFolders();
+       set({ folders });
+     } catch (error) {
+       console.error('Failed to fetch folders:', error);
+     }
+   },
+   
+   uploadFile: async (file: File, folderId?: string) => {
+     const uploadId = Date.now().toString();
+     
+     // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
+     const uploadFile: UploadFile = {
+       file,
+       id: uploadId,
+       progress: 0,
+       status: 'uploading',
+     };
+     
+     set(state => ({
+       uploadFiles: [...state.uploadFiles, uploadFile]
+     }));
+     
+     try {
+       // é€²æ—æ›´æ–°ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
+       const progressInterval = setInterval(() => {
+         set(state => ({
+           uploadFiles: state.uploadFiles.map(uf => 
+             uf.id === uploadId 
+               ? { ...uf, progress: Math.min(uf.progress + 10, 90) }
+               : uf
+           )
+         }));
+       }, 200);
+       
+       const newFile = await mockFileAPI.uploadFile(file, folderId);
+       
+       clearInterval(progressInterval);
+       
+       // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†
+       set(state => ({
+         files: [...state.files, newFile],
+         uploadFiles: state.uploadFiles.map(uf => 
+           uf.id === uploadId 
+             ? { ...uf, progress: 100, status: 'completed' }
+             : uf
+         )
+       }));
+       
+       // å®Œäº†ã—ãŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
+       setTimeout(() => {
+         set(state => ({
+           uploadFiles: state.uploadFiles.filter(uf => uf.id !== uploadId)
+         }));
+       }, 2000);
+       
+       // ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ã‚’æ›´æ–°
+       get().fetchStorageUsage();
+       
+     } catch (error) {
+       set(state => ({
+         uploadFiles: state.uploadFiles.map(uf => 
+           uf.id === uploadId 
+             ? { ...uf, status: 'error', error: error instanceof Error ? error.message : 'Upload failed' }
+             : uf
+         )
+       }));
+     }
+   },
+   
+   deleteFile: async (fileId: string) => {
+     try {
+       await mockFileAPI.deleteFile(fileId);
+       
+       set(state => ({
+         files: state.files.filter(file => file.id !== fileId),
+         selectedFiles: state.selectedFiles.filter(id => id !== fileId)
+       }));
+       
+       get().fetchStorageUsage();
+     } catch (error) {
+       console.error('Failed to delete file:', error);
+     }
+   },
+   
+   createFolder: async (name: string, parentId?: string) => {
+     try {
+       const newFolder = await mockFileAPI.createFolder(name, parentId);
+       
+       set(state => ({
+         folders: [...state.folders, newFolder]
+       }));
+     } catch (error) {
+       console.error('Failed to create folder:', error);
+     }
+   },
+   
+   deleteFolder: async (folderId: string) => {
+     try {
+       await mockFileAPI.deleteFolder(folderId);
+       
+       set(state => ({
+         folders: state.folders.filter(folder => folder.id !== folderId),
+         files: state.files.filter(file => file.folder_id !== folderId)
+       }));
+       
+       get().fetchStorageUsage();
+     } catch (error) {
+       console.error('Failed to delete folder:', error);
+     }
+   },
+   
+   setCurrentFolder: (folderId: string | null) => {
+     set({ currentFolder: folderId });
+     get().fetchFiles(folderId || undefined);
+   },
+   
+   toggleFileSelection: (fileId: string) => {
+     set(state => ({
+       selectedFiles: state.selectedFiles.includes(fileId)
+         ? state.selectedFiles.filter(id => id !== fileId)
+         : [...state.selectedFiles, fileId]
+     }));
+   },
+   
+   clearSelection: () => {
+     set({ selectedFiles: [] });
+   },
+   
+   fetchStorageUsage: async () => {
+     try {
+       const storageUsage = await mockFileAPI.fetchStorageUsage();
+       set({ storageUsage });
+     } catch (error) {
+       console.error('Failed to fetch storage usage:', error);
+     }
+   },
+ })); 
```

---

```diff
- 
+ 'use client';
+ 
+ import React from 'react';
+ import { useAuthStore } from '@/stores/useAuthStore';
+ import { useFileStore } from '@/stores/useFileStore';
+ import { Button } from '@/components/ui/button';
+ import { Avatar, AvatarFallback } from '@/components/ui/avatar';
+ import { Progress } from '@/components/ui/progress';
+ import { Badge } from '@/components/ui/badge';
+ import { formatFileSize } from '@/lib/mockData';
+ import { LogOut, Cloud, Menu, X } from 'lucide-react';
+ 
+ interface HeaderProps {
+   isSidebarOpen: boolean;
+   toggleSidebar: () => void;
+ }
+ 
+ export const Header: React.FC<HeaderProps> = ({ isSidebarOpen, toggleSidebar }) => {
+   const { user, logout } = useAuthStore();
+   const { storageUsage } = useFileStore();
+ 
+   const handleLogout = async () => {
+     try {
+       await logout();
+     } catch (error) {
+       console.error('Logout failed:', error);
+     }
+   };
+ 
+   const getUsagePercentage = () => {
+     if (!storageUsage) return 0;
+     return (storageUsage.total_size / storageUsage.quota) * 100;
+   };
+ 
+   const getUsageColor = () => {
+     const percentage = getUsagePercentage();
+     if (percentage < 50) return 'bg-secondary-green';
+     if (percentage < 80) return 'bg-secondary-orange';
+     return 'bg-secondary-red';
+   };
+ 
+   return (
+     <header className="bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between">
+       {/* å·¦å´: ãƒ­ã‚´ã¨ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
+       <div className="flex items-center space-x-4">
+         {/* ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
+         <Button
+           variant="ghost"
+           size="sm"
+           className="md:hidden"
+           onClick={toggleSidebar}
+         >
+           {isSidebarOpen ? <X className="h-5 w-5" /> : <Menu className="h-5 w-5" />}
+         </Button>
+ 
+         {/* ãƒ­ã‚´ã¨ã‚¿ã‚¤ãƒˆãƒ« */}
+         <div className="flex items-center space-x-2">
+           <Cloud className="h-8 w-8 text-primary-500" />
+           <div>
+             <h1 className="text-lg font-bold text-gray-900">
+               å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
+             </h1>
+             <p className="text-xs text-gray-500 hidden sm:block">
+               ã¿ã‚“ãªã§ä½¿ã†å¤§åˆ‡ãªæ€ã„å‡ºã®ä¿ç®¡åº«
+             </p>
+           </div>
+         </div>
+       </div>
+ 
+       {/* ä¸­å¤®: ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®ã¿ï¼‰ */}
+       {storageUsage && (
+         <div className="hidden lg:flex items-center space-x-3 bg-gray-50 rounded-lg px-4 py-2">
+           <div className="text-sm">
+             <div className="flex items-center space-x-2 mb-1">
+               <span className="text-gray-600">ä½¿ç”¨é‡</span>
+               <Badge variant="outline" className="text-xs">
+                 {storageUsage.file_count}å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«
+               </Badge>
+             </div>
+             <div className="flex items-center space-x-2">
+               <Progress 
+                 value={getUsagePercentage()} 
+                 className="w-32 h-2"
+               />
+               <span className="text-xs text-gray-500 whitespace-nowrap">
+                 {formatFileSize(storageUsage.total_size)} / {formatFileSize(storageUsage.quota)}
+               </span>
+             </div>
+           </div>
+         </div>
+       )}
+ 
+       {/* å³å´: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã¨ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ */}
+       <div className="flex items-center space-x-3">
+         {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± */}
+         {user && (
+           <div className="flex items-center space-x-2">
+             <Avatar className="h-8 w-8">
+               <AvatarFallback className="bg-primary-100 text-primary-700 text-sm">
+                 {user.username.charAt(0)}
+               </AvatarFallback>
+             </Avatar>
+             <div className="hidden sm:block">
+               <p className="text-sm font-medium text-gray-900">{user.username}</p>
+               <p className="text-xs text-gray-500">{user.role === 'admin' ? 'ç®¡ç†è€…' : 'ãƒ¦ãƒ¼ã‚¶ãƒ¼'}</p>
+             </div>
+           </div>
+         )}
+ 
+         {/* ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ */}
+         <Button
+           variant="outline"
+           size="sm"
+           onClick={handleLogout}
+           className="flex items-center space-x-1"
+         >
+           <LogOut className="h-4 w-4" />
+           <span className="hidden sm:inline">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>
+         </Button>
+       </div>
+     </header>
+   );
+ }; 
```

---

```diff
- 
+ 'use client';
+ 
+ import React, { useState } from 'react';
+ import { useFileStore } from '@/stores/useFileStore';
+ import { Button } from '@/components/ui/button';
+ import { Input } from '@/components/ui/input';
+ import { Card } from '@/components/ui/card';
+ import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';
+ import { 
+   Home, 
+   Upload, 
+   FolderPlus, 
+   Folder, 
+   Search,
+   ChevronRight,
+   ChevronDown
+ } from 'lucide-react';
+ import { cn } from '@/lib/utils';
+ 
+ interface SidebarProps {
+   isOpen: boolean;
+   onClose: () => void;
+ }
+ 
+ export const Sidebar: React.FC<SidebarProps> = ({ isOpen, onClose }) => {
+   const { 
+     folders, 
+     currentFolder, 
+     setCurrentFolder, 
+     createFolder,
+     fetchFolders 
+   } = useFileStore();
+   
+   const [newFolderName, setNewFolderName] = useState('');
+   const [isCreateFolderOpen, setIsCreateFolderOpen] = useState(false);
+   const [expandedFolders, setExpandedFolders] = useState<string[]>([]);
+ 
+   React.useEffect(() => {
+     fetchFolders();
+   }, [fetchFolders]);
+ 
+   const handleCreateFolder = async () => {
+     if (!newFolderName.trim()) return;
+     
+     try {
+       await createFolder(newFolderName.trim(), currentFolder || undefined);
+       setNewFolderName('');
+       setIsCreateFolderOpen(false);
+     } catch (error) {
+       console.error('Failed to create folder:', error);
+     }
+   };
+ 
+   const handleFolderClick = (folderId: string | null) => {
+     setCurrentFolder(folderId);
+     // ãƒ¢ãƒã‚¤ãƒ«ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’é–‰ã˜ã‚‹
+     if (window.innerWidth < 768) {
+       onClose();
+     }
+   };
+ 
+   const toggleFolderExpansion = (folderId: string) => {
+     setExpandedFolders(prev => 
+       prev.includes(folderId) 
+         ? prev.filter(id => id !== folderId)
+         : [...prev, folderId]
+     );
+   };
+ 
+   const renderFolderTree = (parentId: string | null = null, level: number = 0) => {
+     const childFolders = folders.filter(folder => folder.parent_id === parentId);
+     
+     return childFolders.map(folder => {
+       const hasChildren = folders.some(f => f.parent_id === folder.id);
+       const isExpanded = expandedFolders.includes(folder.id);
+       const isSelected = currentFolder === folder.id;
+       
+       return (
+         <div key={folder.id}>
+           <div
+             className={cn(
+               "flex items-center space-x-2 px-3 py-2 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",
+               isSelected && "bg-primary-100 text-primary-700",
+               level > 0 && "ml-4"
+             )}
+             style={{ paddingLeft: `${12 + level * 16}px` }}
+           >
+             {hasChildren && (
+               <button
+                 onClick={(e) => {
+                   e.stopPropagation();
+                   toggleFolderExpansion(folder.id);
+                 }}
+                 className="p-0.5 hover:bg-gray-200 rounded"
+               >
+                 {isExpanded ? (
+                   <ChevronDown className="h-4 w-4" />
+                 ) : (
+                   <ChevronRight className="h-4 w-4" />
+                 )}
+               </button>
+             )}
+             
+             <div
+               className="flex items-center space-x-2 flex-1"
+               onClick={() => handleFolderClick(folder.id)}
+             >
+               <Folder className="h-4 w-4" />
+               <span className="text-sm truncate">{folder.name}</span>
+               {folder.file_count !== undefined && (
+                 <span className="text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded-full">
+                   {folder.file_count}
+                 </span>
+               )}
+             </div>
+           </div>
+           
+           {hasChildren && isExpanded && renderFolderTree(folder.id, level + 1)}
+         </div>
+       );
+     });
+   };
+ 
+   const sidebarContent = (
+     <div className="h-full flex flex-col">
+       {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
+       <div className="p-4 border-b border-gray-200">
+         <nav className="space-y-2">
+           {/* ãƒ›ãƒ¼ãƒ  */}
+           <button
+             onClick={() => handleFolderClick(null)}
+             className={cn(
+               "w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left hover:bg-gray-100 transition-colors",
+               currentFolder === null && "bg-primary-100 text-primary-700"
+             )}
+           >
+             <Home className="h-5 w-5" />
+             <span className="font-medium">ãƒ›ãƒ¼ãƒ </span>
+           </button>
+ 
+           {/* ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */}
+           <label className="w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left hover:bg-gray-100 transition-colors cursor-pointer">
+             <Upload className="h-5 w-5" />
+             <span className="font-medium">ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
+             <input
+               type="file"
+               multiple
+               className="hidden"
+               onChange={(e) => {
+                 const files = Array.from(e.target.files || []);
+                 files.forEach(file => {
+                   useFileStore.getState().uploadFile(file, currentFolder || undefined);
+                 });
+                 e.target.value = ''; // ãƒªã‚»ãƒƒãƒˆ
+               }}
+             />
+           </label>
+ 
+           {/* æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€ */}
+           <Dialog open={isCreateFolderOpen} onOpenChange={setIsCreateFolderOpen}>
+             <DialogTrigger asChild>
+               <button className="w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left hover:bg-gray-100 transition-colors">
+                 <FolderPlus className="h-5 w-5" />
+                 <span className="font-medium">æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€</span>
+               </button>
+             </DialogTrigger>
+             <DialogContent>
+               <DialogHeader>
+                 <DialogTitle>æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ</DialogTitle>
+               </DialogHeader>
+               <div className="space-y-4">
+                 <Input
+                   placeholder="ãƒ•ã‚©ãƒ«ãƒ€åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"
+                   value={newFolderName}
+                   onChange={(e) => setNewFolderName(e.target.value)}
+                   onKeyPress={(e) => {
+                     if (e.key === 'Enter') {
+                       handleCreateFolder();
+                     }
+                   }}
+                 />
+                 <div className="flex space-x-2">
+                   <Button onClick={handleCreateFolder} className="flex-1">
+                     ä½œæˆ
+                   </Button>
+                   <Button 
+                     variant="outline" 
+                     onClick={() => setIsCreateFolderOpen(false)}
+                     className="flex-1"
+                   >
+                     ã‚­ãƒ£ãƒ³ã‚»ãƒ«
+                   </Button>
+                 </div>
+               </div>
+             </DialogContent>
+           </Dialog>
+         </nav>
+       </div>
+ 
+       {/* ãƒ•ã‚©ãƒ«ãƒ€ãƒ„ãƒªãƒ¼ */}
+       <div className="flex-1 p-4 overflow-y-auto">
+         <div className="space-y-1">
+           <h3 className="text-sm font-medium text-gray-700 mb-2">ãƒ•ã‚©ãƒ«ãƒ€</h3>
+           {folders.length > 0 ? (
+             renderFolderTree()
+           ) : (
+             <p className="text-sm text-gray-500 py-4 text-center">
+               ãƒ•ã‚©ãƒ«ãƒ€ãŒã‚ã‚Šã¾ã›ã‚“
+             </p>
+           )}
+         </div>
+       </div>
+ 
+       {/* æ¤œç´¢ã‚¨ãƒªã‚¢ï¼ˆå°†æ¥çš„ãªæ©Ÿèƒ½ï¼‰ */}
+       <div className="p-4 border-t border-gray-200">
+         <div className="relative">
+           <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
+           <Input
+             placeholder="ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢..."
+             className="pl-10"
+             disabled
+           />
+         </div>
+         <p className="text-xs text-gray-400 mt-1">æ¤œç´¢æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™</p>
+       </div>
+     </div>
+   );
+ 
+   // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆ
+   if (!isOpen && window.innerWidth >= 768) {
+     return (
+       <aside className="hidden md:block w-64 bg-white border-r border-gray-200">
+         {sidebarContent}
+       </aside>
+     );
+   }
+ 
+   // ãƒ¢ãƒã‚¤ãƒ«ç‰ˆï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰
+   return (
+     <>
+       {/* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */}
+       {isOpen && (
+         <div
+           className="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"
+           onClick={onClose}
+         />
+       )}
+       
+       {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}
+       <aside
+         className={cn(
+           "fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 z-50 transform transition-transform duration-300 ease-in-out",
+           "md:relative md:translate-x-0 md:z-auto",
+           isOpen ? "translate-x-0" : "-translate-x-full md:translate-x-0"
+         )}
+       >
+         {sidebarContent}
+       </aside>
+     </>
+   );
+ }; 
```

---



---

```diff
  import type { Metadata } from "next";
- import { Geist, Geist_Mono } from "next/font/google";
+ import { Inter } from "next/font/google";
  import "./globals.css";
- 
- const geistSans = Geist({
-   variable: "--font-geist-sans",
-   subsets: ["latin"],
- });
+ import { AuthProvider } from "@/components/providers/AuthProvider";
  
- const geistMono = Geist_Mono({
-   variable: "--font-geist-mono",
-   subsets: ["latin"],
- });
+ const inter = Inter({ subsets: ["latin"] });
  
  export const metadata: Metadata = {
-   title: "Create Next App",
-   description: "Generated by create next app",
+   title: "å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸",
+   description: "ã¿ã‚“ãªã§ä½¿ã†å¤§åˆ‡ãªæ€ã„å‡ºã®ä¿ç®¡åº«",
  };
  
  export default function RootLayout({
    children,
- }: Readonly<{
+ }: {
    children: React.ReactNode;
- }>) {
+ }) {
    return (
-     <html lang="en">
-       <body
-         className={`${geistSans.variable} ${geistMono.variable} antialiased`}
-       >
-         {children}
+     <html lang="ja">
+       <body className={`${inter.className} bg-gray-50`}>
+         <AuthProvider>
+           {children}
+         </AuthProvider>
        </body>
      </html>
```

---

```diff
- 
+ 'use client';
+ 
+ import React, { useEffect } from 'react';
+ import { useAuthStore } from '@/stores/useAuthStore';
+ import { useRouter, usePathname } from 'next/navigation';
+ 
+ interface AuthProviderProps {
+   children: React.ReactNode;
+ }
+ 
+ export const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {
+   const { isAuthenticated, isLoading, checkAuth } = useAuthStore();
+   const router = useRouter();
+   const pathname = usePathname();
+ 
+   useEffect(() => {
+     checkAuth();
+   }, [checkAuth]);
+ 
+   useEffect(() => {
+     if (!isLoading) {
+       if (!isAuthenticated && pathname !== '/login' && pathname !== '/register') {
+         router.push('/login');
+       } else if (isAuthenticated && (pathname === '/login' || pathname === '/register')) {
+         router.push('/dashboard');
+       }
+     }
+   }, [isAuthenticated, isLoading, pathname, router]);
+ 
+   // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ä½•ã‚‚è¡¨ç¤ºã—ãªã„
+   if (isLoading) {
+     return (
+       <div className="min-h-screen flex items-center justify-center bg-gray-50">
+         <div className="text-center">
+           <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"></div>
+           <p className="text-gray-600">èª­ã¿è¾¼ã¿ä¸­...</p>
+         </div>
+       </div>
+     );
+   }
+ 
+   return <>{children}</>;
+ }; 
```

---

```diff
- 
+ 'use client';
+ 
+ import React, { useState } from 'react';
+ import { useAuthStore } from '@/stores/useAuthStore';
+ import { Button } from '@/components/ui/button';
+ import { Input } from '@/components/ui/input';
+ import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
+ import { Cloud, Eye, EyeOff, AlertCircle } from 'lucide-react';
+ import Link from 'next/link';
+ 
+ export default function LoginPage() {
+   const { login, isLoading } = useAuthStore();
+   const [formData, setFormData] = useState({
+     email: '',
+     password: '',
+   });
+   const [showPassword, setShowPassword] = useState(false);
+   const [error, setError] = useState('');
+ 
+   const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
+     const { name, value } = e.target;
+     setFormData(prev => ({
+       ...prev,
+       [name]: value,
+     }));
+     // ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢
+     if (error) setError('');
+   };
+ 
+   const handleSubmit = async (e: React.FormEvent) => {
+     e.preventDefault();
+     setError('');
+ 
+     if (!formData.email || !formData.password) {
+       setError('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
+       return;
+     }
+ 
+     try {
+       await login(formData);
+     } catch (err) {
+       setError(err instanceof Error ? err.message : 'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ');
+     }
+   };
+ 
+   // ãƒ‡ãƒ¢ç”¨ã®ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³
+   const handleDemoLogin = async (userType: 'admin' | 'user') => {
+     const demoCredentials = {
+       admin: { email: 'father@family.com', password: 'password123' },
+       user: { email: 'mother@family.com', password: 'password123' },
+     };
+ 
+     setFormData(demoCredentials[userType]);
+     
+     try {
+       await login(demoCredentials[userType]);
+     } catch (err) {
+       setError(err instanceof Error ? err.message : 'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ');
+     }
+   };
+ 
+   return (
+     <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4">
+       <div className="w-full max-w-md">
+         {/* ãƒ­ã‚´ã¨ã‚¿ã‚¤ãƒˆãƒ« */}
+         <div className="text-center mb-8">
+           <div className="flex justify-center mb-4">
+             <div className="bg-white p-3 rounded-full shadow-lg">
+               <Cloud className="h-12 w-12 text-primary-500" />
+             </div>
+           </div>
+           <h1 className="text-2xl font-bold text-gray-900 mb-2">
+             å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
+           </h1>
+           <p className="text-gray-600">
+             ã¿ã‚“ãªã§ä½¿ã†å¤§åˆ‡ãªæ€ã„å‡ºã®ä¿ç®¡åº«
+           </p>
+         </div>
+ 
+         {/* ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ  */}
+         <Card className="shadow-xl">
+           <CardHeader>
+             <CardTitle className="text-xl text-center">ãƒ­ã‚°ã‚¤ãƒ³</CardTitle>
+             <CardDescription className="text-center">
+               ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„
+             </CardDescription>
+           </CardHeader>
+           <CardContent>
+             <form onSubmit={handleSubmit} className="space-y-4">
+               {/* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */}
+               {error && (
+                 <div className="bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2 text-red-700">
+                   <AlertCircle className="h-4 w-4 flex-shrink-0" />
+                   <span className="text-sm">{error}</span>
+                 </div>
+               )}
+ 
+               {/* ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ */}
+               <div className="space-y-2">
+                 <label htmlFor="email" className="text-sm font-medium text-gray-700">
+                   ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
+                 </label>
+                 <Input
+                   id="email"
+                   name="email"
+                   type="email"
+                   placeholder="example@family.com"
+                   value={formData.email}
+                   onChange={handleInputChange}
+                   className="h-12"
+                   disabled={isLoading}
+                 />
+               </div>
+ 
+               {/* ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ */}
+               <div className="space-y-2">
+                 <label htmlFor="password" className="text-sm font-medium text-gray-700">
+                   ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
+                 </label>
+                 <div className="relative">
+                   <Input
+                     id="password"
+                     name="password"
+                     type={showPassword ? 'text' : 'password'}
+                     placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
+                     value={formData.password}
+                     onChange={handleInputChange}
+                     className="h-12 pr-12"
+                     disabled={isLoading}
+                   />
+                   <button
+                     type="button"
+                     onClick={() => setShowPassword(!showPassword)}
+                     className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"
+                     disabled={isLoading}
+                   >
+                     {showPassword ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
+                   </button>
+                 </div>
+               </div>
+ 
+               {/* ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ */}
+               <Button
+                 type="submit"
+                 className="w-full h-12 text-base"
+                 disabled={isLoading}
+               >
+                 {isLoading ? (
+                   <div className="flex items-center space-x-2">
+                     <div className="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div>
+                     <span>ãƒ­ã‚°ã‚¤ãƒ³ä¸­...</span>
+                   </div>
+                 ) : (
+                   'ãƒ­ã‚°ã‚¤ãƒ³'
+                 )}
+               </Button>
+             </form>
+ 
+             {/* ãƒ‡ãƒ¢ç”¨ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ã‚°ã‚¤ãƒ³ */}
+             <div className="mt-6 pt-6 border-t border-gray-200">
+               <p className="text-sm text-gray-600 text-center mb-3">
+                 ãƒ‡ãƒ¢ç”¨ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ã‚°ã‚¤ãƒ³
+               </p>
+               <div className="grid grid-cols-2 gap-2">
+                 <Button
+                   variant="outline"
+                   size="sm"
+                   onClick={() => handleDemoLogin('admin')}
+                   disabled={isLoading}
+                   className="text-xs"
+                 >
+                   ç®¡ç†è€…ã§ãƒ­ã‚°ã‚¤ãƒ³
+                 </Button>
+                 <Button
+                   variant="outline"
+                   size="sm"
+                   onClick={() => handleDemoLogin('user')}
+                   disabled={isLoading}
+                   className="text-xs"
+                 >
+                   ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³
+                 </Button>
+               </div>
+             </div>
+ 
+             {/* æ–°è¦ç™»éŒ²ãƒªãƒ³ã‚¯ */}
+             <div className="mt-6 text-center">
+               <p className="text-sm text-gray-600">
+                 ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯{' '}
+                 <Link 
+                   href="/register" 
+                   className="text-primary-600 hover:text-primary-700 font-medium"
+                 >
+                   æ–°è¦ç™»éŒ²
+                 </Link>
+               </p>
+             </div>
+           </CardContent>
+         </Card>
+ 
+         {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
+         <div className="mt-8 text-center text-xs text-gray-500">
+           <p>Â© 2024 å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸</p>
+           <p className="mt-1">
+             ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ç‰ˆ - ãƒ‡ãƒ¢ç”¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: password123
+           </p>
+         </div>
+       </div>
+     </div>
+   );
+ } 
```

---

```diff
- 
+ 'use client';
+ 
+ import React, { useState } from 'react';
+ import { useFileStore } from '@/stores/useFileStore';
+ import { Button } from '@/components/ui/button';
+ import { Card, CardContent } from '@/components/ui/card';
+ import { Badge } from '@/components/ui/badge';
+ import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';
+ import { formatFileSize, formatRelativeDate, getFileIcon } from '@/lib/mockData';
+ import { 
+   FileText, 
+   Image, 
+   Video, 
+   Music, 
+   Archive,
+   Download,
+   Trash2,
+   Eye,
+   MoreVertical,
+   Grid3X3,
+   List,
+   CheckSquare,
+   Square
+ } from 'lucide-react';
+ import { FileItem } from '@/types';
+ 
+ interface FileListProps {
+   viewMode?: 'grid' | 'list';
+ }
+ 
+ export const FileList: React.FC<FileListProps> = ({ viewMode = 'grid' }) => {
+   const { 
+     files, 
+     selectedFiles, 
+     toggleFileSelection, 
+     clearSelection, 
+     deleteFile,
+     isLoading 
+   } = useFileStore();
+   
+   const [localViewMode, setLocalViewMode] = useState<'grid' | 'list'>(viewMode);
+   const [previewFile, setPreviewFile] = useState<FileItem | null>(null);
+ 
+   const getFileIconComponent = (mimeType: string) => {
+     const iconName = getFileIcon(mimeType);
+     const iconProps = { className: "h-6 w-6 text-gray-600" };
+     
+     switch (iconName) {
+       case 'image': return <Image {...iconProps} className="h-6 w-6 text-green-600" />;
+       case 'video': return <Video {...iconProps} className="h-6 w-6 text-red-600" />;
+       case 'music': return <Music {...iconProps} className="h-6 w-6 text-purple-600" />;
+       case 'archive': return <Archive {...iconProps} className="h-6 w-6 text-orange-600" />;
+       default: return <FileText {...iconProps} />;
+     }
+   };
+ 
+   const handleFileSelect = (fileId: string, event: React.MouseEvent) => {
+     event.stopPropagation();
+     toggleFileSelection(fileId);
+   };
+ 
+   const handleDeleteSelected = async () => {
+     if (selectedFiles.length === 0) return;
+     
+     if (confirm(`é¸æŠã—ãŸ${selectedFiles.length}å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
+       for (const fileId of selectedFiles) {
+         await deleteFile(fileId);
+       }
+       clearSelection();
+     }
+   };
+ 
+   const handleFilePreview = (file: FileItem) => {
+     setPreviewFile(file);
+   };
+ 
+   const handleDownload = (file: FileItem) => {
+     // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰URLã‚’å–å¾—ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹
+     console.log('Downloading file:', file.original_name);
+     alert(`${file.original_name} ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã¾ã—ãŸï¼ˆãƒ‡ãƒ¢ç‰ˆã§ã¯å®Ÿéš›ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ï¼‰`);
+   };
+ 
+   if (isLoading) {
+     return (
+       <div className="flex items-center justify-center py-12">
+         <div className="text-center">
+           <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"></div>
+           <p className="text-gray-600">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
+         </div>
+       </div>
+     );
+   }
+ 
+   return (
+     <div className="space-y-4">
+       {/* ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ */}
+       <div className="flex items-center justify-between">
+         <div className="flex items-center space-x-2">
+           <span className="text-sm text-gray-600">
+             {files.length}å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«
+           </span>
+           {selectedFiles.length > 0 && (
+             <>
+               <Badge variant="secondary">
+                 {selectedFiles.length}å€‹é¸æŠä¸­
+               </Badge>
+               <Button
+                 variant="destructive"
+                 size="sm"
+                 onClick={handleDeleteSelected}
+                 className="flex items-center space-x-1"
+               >
+                 <Trash2 className="h-4 w-4" />
+                 <span>å‰Šé™¤</span>
+               </Button>
+               <Button
+                 variant="outline"
+                 size="sm"
+                 onClick={clearSelection}
+               >
+                 é¸æŠè§£é™¤
+               </Button>
+             </>
+           )}
+         </div>
+ 
+         {/* è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ */}
+         <div className="flex items-center space-x-1 bg-gray-100 rounded-lg p-1">
+           <Button
+             variant={localViewMode === 'grid' ? 'default' : 'ghost'}
+             size="sm"
+             onClick={() => setLocalViewMode('grid')}
+             className="px-3"
+           >
+             <Grid3X3 className="h-4 w-4" />
+           </Button>
+           <Button
+             variant={localViewMode === 'list' ? 'default' : 'ghost'}
+             size="sm"
+             onClick={() => setLocalViewMode('list')}
+             className="px-3"
+           >
+             <List className="h-4 w-4" />
+           </Button>
+         </div>
+       </div>
+ 
+       {/* ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ */}
+       {files.length === 0 ? (
+         <div className="text-center py-12">
+           <FileText className="h-16 w-16 text-gray-300 mx-auto mb-4" />
+           <h3 className="text-lg font-medium text-gray-900 mb-2">
+             ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“
+           </h3>
+           <p className="text-gray-600 mb-4">
+             ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„
+           </p>
+         </div>
+       ) : (
+         <div className={
+           localViewMode === 'grid' 
+             ? 'grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4'
+             : 'space-y-2'
+         }>
+           {files.map((file) => (
+             <FileCard
+               key={file.id}
+               file={file}
+               viewMode={localViewMode}
+               isSelected={selectedFiles.includes(file.id)}
+               onSelect={(event) => handleFileSelect(file.id, event)}
+               onPreview={() => handleFilePreview(file)}
+               onDownload={() => handleDownload(file)}
+               onDelete={() => deleteFile(file.id)}
+               getFileIconComponent={getFileIconComponent}
+             />
+           ))}
+         </div>
+       )}
+ 
+       {/* ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ€ã‚¤ã‚¢ãƒ­ã‚° */}
+       <Dialog open={!!previewFile} onOpenChange={() => setPreviewFile(null)}>
+         <DialogContent className="max-w-2xl">
+           <DialogHeader>
+             <DialogTitle>{previewFile?.original_name}</DialogTitle>
+           </DialogHeader>
+           {previewFile && (
+             <div className="space-y-4">
+               {/* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ */}
+               <div className="bg-gray-50 rounded-lg p-8 text-center">
+                 {previewFile.mime_type.startsWith('image/') ? (
+                   <div className="space-y-2">
+                     <Image className="h-16 w-16 text-gray-400 mx-auto" />
+                     <p className="text-sm text-gray-600">ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</p>
+                     <p className="text-xs text-gray-500">
+                       å®Ÿéš›ã®å®Ÿè£…ã§ã¯ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã¾ã™
+                     </p>
+                   </div>
+                 ) : (
+                   <div className="space-y-2">
+                     {getFileIconComponent(previewFile.mime_type)}
+                     <p className="text-sm text-gray-600">
+                       {previewFile.original_name}
+                     </p>
+                     <p className="text-xs text-gray-500">
+                       ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯å¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™
+                     </p>
+                   </div>
+                 )}
+               </div>
+ 
+               {/* ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ± */}
+               <div className="grid grid-cols-2 gap-4 text-sm">
+                 <div>
+                   <span className="text-gray-600">ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º:</span>
+                   <span className="ml-2 font-medium">
+                     {formatFileSize(previewFile.file_size)}
+                   </span>
+                 </div>
+                 <div>
+                   <span className="text-gray-600">æ›´æ–°æ—¥:</span>
+                   <span className="ml-2 font-medium">
+                     {formatRelativeDate(previewFile.updated_at)}
+                   </span>
+                 </div>
+                 <div>
+                   <span className="text-gray-600">ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼:</span>
+                   <span className="ml-2 font-medium">
+                     {previewFile.mime_type}
+                   </span>
+                 </div>
+                 <div>
+                   <span className="text-gray-600">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰è€…:</span>
+                   <span className="ml-2 font-medium">
+                     ãƒ¦ãƒ¼ã‚¶ãƒ¼#{previewFile.user_id}
+                   </span>
+                 </div>
+               </div>
+ 
+               {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */}
+               <div className="flex space-x-2">
+                 <Button onClick={() => handleDownload(previewFile)} className="flex-1">
+                   <Download className="h-4 w-4 mr-2" />
+                   ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
+                 </Button>
+                 <Button 
+                   variant="destructive" 
+                   onClick={() => {
+                     deleteFile(previewFile.id);
+                     setPreviewFile(null);
+                   }}
+                 >
+                   <Trash2 className="h-4 w-4" />
+                 </Button>
+               </div>
+             </div>
+           )}
+         </DialogContent>
+       </Dialog>
+     </div>
+   );
+ };
+ 
+ // ãƒ•ã‚¡ã‚¤ãƒ«ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
+ interface FileCardProps {
+   file: FileItem;
+   viewMode: 'grid' | 'list';
+   isSelected: boolean;
+   onSelect: (event: React.MouseEvent) => void;
+   onPreview: () => void;
+   onDownload: () => void;
+   onDelete: () => void;
+   getFileIconComponent: (mimeType: string) => React.ReactNode;
+ }
+ 
+ const FileCard: React.FC<FileCardProps> = ({
+   file,
+   viewMode,
+   isSelected,
+   onSelect,
+   onPreview,
+   onDownload,
+   onDelete,
+   getFileIconComponent,
+ }) => {
+   if (viewMode === 'list') {
+     return (
+       <Card className={`cursor-pointer hover:shadow-md transition-shadow ${isSelected ? 'ring-2 ring-primary-500' : ''}`}>
+         <CardContent className="p-4">
+           <div className="flex items-center space-x-4">
+             {/* é¸æŠãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */}
+             <button onClick={onSelect} className="flex-shrink-0">
+               {isSelected ? (
+                 <CheckSquare className="h-5 w-5 text-primary-500" />
+               ) : (
+                 <Square className="h-5 w-5 text-gray-400" />
+               )}
+             </button>
+ 
+             {/* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ */}
+             <div className="flex-shrink-0">
+               {getFileIconComponent(file.mime_type)}
+             </div>
+ 
+             {/* ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ± */}
+             <div className="flex-1 min-w-0" onClick={onPreview}>
+               <h3 className="text-sm font-medium text-gray-900 truncate">
+                 {file.original_name}
+               </h3>
+               <div className="flex items-center space-x-4 text-xs text-gray-500 mt-1">
+                 <span>{formatFileSize(file.file_size)}</span>
+                 <span>{formatRelativeDate(file.updated_at)}</span>
+               </div>
+             </div>
+ 
+             {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */}
+             <div className="flex items-center space-x-1">
+               <Button variant="ghost" size="sm" onClick={onDownload}>
+                 <Download className="h-4 w-4" />
+               </Button>
+               <Button variant="ghost" size="sm" onClick={onDelete}>
+                 <Trash2 className="h-4 w-4" />
+               </Button>
+             </div>
+           </div>
+         </CardContent>
+       </Card>
+     );
+   }
+ 
+   // Grid view
+   return (
+     <Card className={`cursor-pointer hover:shadow-md transition-shadow ${isSelected ? 'ring-2 ring-primary-500' : ''}`}>
+       <CardContent className="p-4">
+         <div className="space-y-3">
+           {/* é¸æŠãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */}
+           <div className="flex justify-between items-start">
+             <button onClick={onSelect}>
+               {isSelected ? (
+                 <CheckSquare className="h-4 w-4 text-primary-500" />
+               ) : (
+                 <Square className="h-4 w-4 text-gray-400" />
+               )}
+             </button>
+           </div>
+ 
+           {/* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ */}
+           <div className="flex justify-center" onClick={onPreview}>
+             <div className="p-4 bg-gray-50 rounded-lg">
+               {getFileIconComponent(file.mime_type)}
+             </div>
+           </div>
+ 
+           {/* ãƒ•ã‚¡ã‚¤ãƒ«å */}
+           <div onClick={onPreview}>
+             <h3 className="text-sm font-medium text-gray-900 truncate text-center">
+               {file.original_name}
+             </h3>
+             <p className="text-xs text-gray-500 text-center mt-1">
+               {formatFileSize(file.file_size)}
+             </p>
+           </div>
+ 
+           {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */}
+           <div className="flex justify-center space-x-1">
+             <Button variant="ghost" size="sm" onClick={onDownload}>
+               <Download className="h-3 w-3" />
+             </Button>
+             <Button variant="ghost" size="sm" onClick={onDelete}>
+               <Trash2 className="h-3 w-3" />
+             </Button>
+           </div>
+         </div>
+       </CardContent>
+     </Card>
+   );
+ }; 
```

---

```diff
- 
+ 'use client';
+ 
+ import React, { useState, useEffect } from 'react';
+ import { useAuthStore } from '@/stores/useAuthStore';
+ import { useFileStore } from '@/stores/useFileStore';
+ import { Header } from '@/components/layout/Header';
+ import { Sidebar } from '@/components/layout/Sidebar';
+ import { FileList } from '@/components/features/FileList';
+ import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
+ import { Progress } from '@/components/ui/progress';
+ import { Badge } from '@/components/ui/badge';
+ import { formatFileSize } from '@/lib/mockData';
+ import { 
+   Upload as UploadIcon, 
+   FolderOpen, 
+   HardDrive,
+   TrendingUp,
+   Users,
+   Clock
+ } from 'lucide-react';
+ 
+ export default function DashboardPage() {
+   const { user } = useAuthStore();
+   const { 
+     files, 
+     folders, 
+     currentFolder, 
+     uploadFiles, 
+     storageUsage, 
+     fetchFiles, 
+     fetchFolders, 
+     fetchStorageUsage 
+   } = useFileStore();
+   
+   const [isSidebarOpen, setIsSidebarOpen] = useState(false);
+ 
+   useEffect(() => {
+     // åˆæœŸãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
+     fetchFiles();
+     fetchFolders();
+     fetchStorageUsage();
+   }, [fetchFiles, fetchFolders, fetchStorageUsage]);
+ 
+   const toggleSidebar = () => {
+     setIsSidebarOpen(!isSidebarOpen);
+   };
+ 
+   const closeSidebar = () => {
+     setIsSidebarOpen(false);
+   };
+ 
+   const getCurrentFolderName = () => {
+     if (!currentFolder) return 'ãƒ›ãƒ¼ãƒ ';
+     const folder = folders.find(f => f.id === currentFolder);
+     return folder?.name || 'ãƒ•ã‚©ãƒ«ãƒ€';
+   };
+ 
+   const getUsagePercentage = () => {
+     if (!storageUsage) return 0;
+     return (storageUsage.total_size / storageUsage.quota) * 100;
+   };
+ 
+   const getRecentFiles = () => {
+     return files
+       .sort((a, b) => new Date(b.updated_at).getTime() - new Date(a.updated_at).getTime())
+       .slice(0, 5);
+   };
+ 
+   return (
+     <div className="min-h-screen bg-gray-50 flex">
+       {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}
+       <Sidebar isOpen={isSidebarOpen} onClose={closeSidebar} />
+ 
+       {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
+       <div className="flex-1 flex flex-col">
+         {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
+         <Header isSidebarOpen={isSidebarOpen} toggleSidebar={toggleSidebar} />
+ 
+         {/* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */}
+         <main className="flex-1 p-6 overflow-auto">
+           {/* ã‚¦ã‚§ãƒ«ã‚«ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
+           <div className="mb-6">
+             <h1 className="text-2xl font-bold text-gray-900 mb-2">
+               ã“ã‚“ã«ã¡ã¯ã€{user?.username}ã•ã‚“ï¼
+             </h1>
+             <p className="text-gray-600">
+               ç¾åœ¨ã®ãƒ•ã‚©ãƒ«ãƒ€: <span className="font-medium">{getCurrentFolderName()}</span>
+             </p>
+           </div>
+ 
+           {/* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */}
+           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
+             {/* ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ */}
+             <Card>
+               <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
+                 <CardTitle className="text-sm font-medium">ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡</CardTitle>
+                 <HardDrive className="h-4 w-4 text-gray-600" />
+               </CardHeader>
+               <CardContent>
+                 <div className="space-y-2">
+                   <div className="text-2xl font-bold">
+                     {storageUsage ? formatFileSize(storageUsage.total_size) : '---'}
+                   </div>
+                   <div className="text-xs text-gray-600">
+                     {storageUsage ? formatFileSize(storageUsage.quota) : '---'} ä¸­
+                   </div>
+                   <Progress value={getUsagePercentage()} className="h-2" />
+                   <div className="text-xs text-gray-500">
+                     {getUsagePercentage().toFixed(1)}% ä½¿ç”¨ä¸­
+                   </div>
+                 </div>
+               </CardContent>
+             </Card>
+ 
+             {/* ãƒ•ã‚¡ã‚¤ãƒ«æ•° */}
+             <Card>
+               <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
+                 <CardTitle className="text-sm font-medium">ç·ãƒ•ã‚¡ã‚¤ãƒ«æ•°</CardTitle>
+                 <FolderOpen className="h-4 w-4 text-gray-600" />
+               </CardHeader>
+               <CardContent>
+                 <div className="text-2xl font-bold">{files.length}</div>
+                 <p className="text-xs text-gray-600">
+                   {folders.length}å€‹ã®ãƒ•ã‚©ãƒ«ãƒ€
+                 </p>
+               </CardContent>
+             </Card>
+ 
+             {/* ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ */}
+             <Card>
+               <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
+                 <CardTitle className="text-sm font-medium">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­</CardTitle>
+                 <UploadIcon className="h-4 w-4 text-gray-600" />
+               </CardHeader>
+               <CardContent>
+                 <div className="text-2xl font-bold">{uploadFiles.length}</div>
+                 <p className="text-xs text-gray-600">
+                   {uploadFiles.filter(f => f.status === 'uploading').length}å€‹å‡¦ç†ä¸­
+                 </p>
+               </CardContent>
+             </Card>
+ 
+             {/* å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼ */}
+             <Card>
+               <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
+                 <CardTitle className="text-sm font-medium">å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼</CardTitle>
+                 <Users className="h-4 w-4 text-gray-600" />
+               </CardHeader>
+               <CardContent>
+                 <div className="text-2xl font-bold">4</div>
+                 <p className="text-xs text-gray-600">
+                   ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¦ãƒ¼ã‚¶ãƒ¼
+                 </p>
+               </CardContent>
+             </Card>
+           </div>
+ 
+           {/* ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é€²è¡ŒçŠ¶æ³ */}
+           {uploadFiles.length > 0 && (
+             <Card className="mb-6">
+               <CardHeader>
+                 <CardTitle className="text-lg flex items-center space-x-2">
+                   <UploadIcon className="h-5 w-5" />
+                   <span>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é€²è¡ŒçŠ¶æ³</span>
+                 </CardTitle>
+               </CardHeader>
+               <CardContent>
+                 <div className="space-y-3">
+                   {uploadFiles.map((uploadFile) => (
+                     <div key={uploadFile.id} className="space-y-2">
+                       <div className="flex items-center justify-between">
+                         <span className="text-sm font-medium truncate">
+                           {uploadFile.file.name}
+                         </span>
+                         <div className="flex items-center space-x-2">
+                           <Badge 
+                             variant={
+                               uploadFile.status === 'completed' ? 'default' :
+                               uploadFile.status === 'error' ? 'destructive' : 'secondary'
+                             }
+                           >
+                             {uploadFile.status === 'uploading' && `${uploadFile.progress}%`}
+                             {uploadFile.status === 'completed' && 'å®Œäº†'}
+                             {uploadFile.status === 'error' && 'ã‚¨ãƒ©ãƒ¼'}
+                           </Badge>
+                         </div>
+                       </div>
+                       {uploadFile.status === 'uploading' && (
+                         <Progress value={uploadFile.progress} className="h-2" />
+                       )}
+                       {uploadFile.status === 'error' && uploadFile.error && (
+                         <p className="text-xs text-red-600">{uploadFile.error}</p>
+                       )}
+                     </div>
+                   ))}
+                 </div>
+               </CardContent>
+             </Card>
+           )}
+ 
+           {/* æœ€è¿‘ã®ãƒ•ã‚¡ã‚¤ãƒ« */}
+           <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
+             <Card className="lg:col-span-2">
+               <CardHeader>
+                 <CardTitle className="text-lg flex items-center space-x-2">
+                   <Clock className="h-5 w-5" />
+                   <span>æœ€è¿‘ã®ãƒ•ã‚¡ã‚¤ãƒ«</span>
+                 </CardTitle>
+               </CardHeader>
+               <CardContent>
+                 {getRecentFiles().length > 0 ? (
+                   <div className="space-y-3">
+                     {getRecentFiles().map((file) => (
+                       <div key={file.id} className="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
+                         <div className="flex-shrink-0">
+                           <FolderOpen className="h-8 w-8 text-gray-400" />
+                         </div>
+                         <div className="flex-1 min-w-0">
+                           <p className="text-sm font-medium text-gray-900 truncate">
+                             {file.original_name}
+                           </p>
+                           <p className="text-xs text-gray-500">
+                             {formatFileSize(file.file_size)} â€¢ {new Date(file.updated_at).toLocaleDateString('ja-JP')}
+                           </p>
+                         </div>
+                       </div>
+                     ))}
+                   </div>
+                 ) : (
+                   <div className="text-center py-8 text-gray-500">
+                     <Clock className="h-12 w-12 mx-auto mb-2 text-gray-300" />
+                     <p>æœ€è¿‘ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“</p>
+                   </div>
+                 )}
+               </CardContent>
+             </Card>
+ 
+             {/* ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
+             <Card>
+               <CardHeader>
+                 <CardTitle className="text-lg">ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</CardTitle>
+               </CardHeader>
+               <CardContent>
+                 <div className="space-y-3">
+                   <label className="block w-full p-3 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-primary-400 transition-colors">
+                     <UploadIcon className="h-8 w-8 mx-auto mb-2 text-gray-400" />
+                     <span className="text-sm text-gray-600">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
+                     <input
+                       type="file"
+                       multiple
+                       className="hidden"
+                       onChange={(e) => {
+                         const files = Array.from(e.target.files || []);
+                         files.forEach(file => {
+                           useFileStore.getState().uploadFile(file, currentFolder || undefined);
+                         });
+                         e.target.value = '';
+                       }}
+                     />
+                   </label>
+                   
+                   <div className="text-xs text-gray-500 text-center">
+                     ã¾ãŸã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã“ã“ã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
+                   </div>
+                 </div>
+               </CardContent>
+             </Card>
+           </div>
+ 
+           {/* ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ */}
+           <Card>
+             <CardHeader>
+               <CardTitle className="text-lg">
+                 {getCurrentFolderName()}ã®ãƒ•ã‚¡ã‚¤ãƒ«
+               </CardTitle>
+             </CardHeader>
+             <CardContent>
+               <FileList />
+             </CardContent>
+           </Card>
+         </main>
+       </div>
+     </div>
+   );
+ } 
```

---



---

```diff
- import { clsx, type ClassValue } from "clsx"
+ import { type ClassValue, clsx } from "clsx"
  import { twMerge } from "tailwind-merge"
  
```

---

```diff
- import Image from "next/image";
+ 'use client';
+ 
+ import { useEffect } from 'react';
+ import { useRouter } from 'next/navigation';
+ import { useAuthStore } from '@/stores/useAuthStore';
  
- export default function Home() {
+ export default function HomePage() {
+   const router = useRouter();
+   const { isAuthenticated, isLoading } = useAuthStore();
+ 
+   useEffect(() => {
+     if (!isLoading) {
+       if (isAuthenticated) {
+         router.push('/dashboard');
+       } else {
+         router.push('/login');
+       }
+     }
+   }, [isAuthenticated, isLoading, router]);
+ 
+   // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
    return (
-     <div className="grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]">
-       <main className="flex flex-col gap-[32px] row-start-2 items-center sm:items-start">
-         <Image
-           className="dark:invert"
-           src="/next.svg"
-           alt="Next.js logo"
-           width={180}
-           height={38}
-           priority
-         />
-         <ol className="list-inside list-decimal text-sm/6 text-center sm:text-left font-[family-name:var(--font-geist-mono)]">
-           <li className="mb-2 tracking-[-.01em]">
-             Get started by editing{" "}
-             <code className="bg-black/[.05] dark:bg-white/[.06] px-1 py-0.5 rounded font-[family-name:var(--font-geist-mono)] font-semibold">
-               src/app/page.tsx
-             </code>
-             .
-           </li>
-           <li className="tracking-[-.01em]">
-             Save and see your changes instantly.
-           </li>
-         </ol>
- 
-         <div className="flex gap-4 items-center flex-col sm:flex-row">
-           <a
-             className="rounded-full border border-solid border-transparent transition-colors flex items-center justify-center bg-foreground text-background gap-2 hover:bg-[#383838] dark:hover:bg-[#ccc] font-medium text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 sm:w-auto"
-             href="https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
-             target="_blank"
-             rel="noopener noreferrer"
-           >
-             <Image
-               className="dark:invert"
-               src="/vercel.svg"
-               alt="Vercel logomark"
-               width={20}
-               height={20}
-             />
-             Deploy now
-           </a>
-           <a
-             className="rounded-full border border-solid border-black/[.08] dark:border-white/[.145] transition-colors flex items-center justify-center hover:bg-[#f2f2f2] dark:hover:bg-[#1a1a1a] hover:border-transparent font-medium text-sm sm:text-base h-10 sm:h-12 px-4 sm:px-5 w-full sm:w-auto md:w-[158px]"
-             href="https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
-             target="_blank"
-             rel="noopener noreferrer"
-           >
-             Read our docs
-           </a>
-         </div>
-       </main>
-       <footer className="row-start-3 flex gap-[24px] flex-wrap items-center justify-center">
-         <a
-           className="flex items-center gap-2 hover:underline hover:underline-offset-4"
-           href="https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
-           target="_blank"
-           rel="noopener noreferrer"
-         >
-           <Image
-             aria-hidden
-             src="/file.svg"
-             alt="File icon"
-             width={16}
-             height={16}
-           />
-           Learn
-         </a>
-         <a
-           className="flex items-center gap-2 hover:underline hover:underline-offset-4"
-           href="https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
-           target="_blank"
-           rel="noopener noreferrer"
-         >
-           <Image
-             aria-hidden
-             src="/window.svg"
-             alt="Window icon"
-             width={16}
-             height={16}
-           />
-           Examples
-         </a>
-         <a
-           className="flex items-center gap-2 hover:underline hover:underline-offset-4"
-           href="https://nextjs.org?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app"
-           target="_blank"
-           rel="noopener noreferrer"
-         >
-           <Image
-             aria-hidden
-             src="/globe.svg"
-             alt="Globe icon"
-             width={16}
-             height={16}
-           />
-           Go to nextjs.org â†’
-         </a>
-       </footer>
+     <div className="min-h-screen flex items-center justify-center bg-gray-50">
+       <div className="text-center">
+         <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-4"></div>
+         <p className="text-gray-600">èª­ã¿è¾¼ã¿ä¸­...</p>
+       </div>
      </div>
    );
```

---

```diff
- 
+ 'use client';
+ 
+ import React, { useState } from 'react';
+ import { useAuthStore } from '@/stores/useAuthStore';
+ import { Button } from '@/components/ui/button';
+ import { Input } from '@/components/ui/input';
+ import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
+ import { Cloud, Eye, EyeOff, AlertCircle } from 'lucide-react';
+ import Link from 'next/link';
+ 
+ export default function RegisterPage() {
+   const { register, isLoading } = useAuthStore();
+   const [formData, setFormData] = useState({
+     username: '',
+     email: '',
+     password: '',
+     confirmPassword: '',
+   });
+   const [showPassword, setShowPassword] = useState(false);
+   const [showConfirmPassword, setShowConfirmPassword] = useState(false);
+   const [error, setError] = useState('');
+ 
+   const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
+     const { name, value } = e.target;
+     setFormData(prev => ({
+       ...prev,
+       [name]: value,
+     }));
+     // ã‚¨ãƒ©ãƒ¼ã‚’ã‚¯ãƒªã‚¢
+     if (error) setError('');
+   };
+ 
+   const handleSubmit = async (e: React.FormEvent) => {
+     e.preventDefault();
+     setError('');
+ 
+     // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
+     if (!formData.username || !formData.email || !formData.password) {
+       setError('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
+       return;
+     }
+ 
+     if (formData.password !== formData.confirmPassword) {
+       setError('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“');
+       return;
+     }
+ 
+     if (formData.password.length < 8) {
+       setError('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„');
+       return;
+     }
+ 
+     try {
+       await register({
+         username: formData.username,
+         email: formData.email,
+         password: formData.password,
+       });
+     } catch (err) {
+       setError(err instanceof Error ? err.message : 'ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ');
+     }
+   };
+ 
+   return (
+     <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4">
+       <div className="w-full max-w-md">
+         {/* ãƒ­ã‚´ã¨ã‚¿ã‚¤ãƒˆãƒ« */}
+         <div className="text-center mb-8">
+           <div className="flex justify-center mb-4">
+             <div className="bg-white p-3 rounded-full shadow-lg">
+               <Cloud className="h-12 w-12 text-primary-500" />
+             </div>
+           </div>
+           <h1 className="text-2xl font-bold text-gray-900 mb-2">
+             å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
+           </h1>
+           <p className="text-gray-600">
+             ã¿ã‚“ãªã§ä½¿ã†å¤§åˆ‡ãªæ€ã„å‡ºã®ä¿ç®¡åº«
+           </p>
+         </div>
+ 
+         {/* æ–°è¦ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  */}
+         <Card className="shadow-xl">
+           <CardHeader>
+             <CardTitle className="text-xl text-center">æ–°è¦ç™»éŒ²</CardTitle>
+             <CardDescription className="text-center">
+               æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„
+             </CardDescription>
+           </CardHeader>
+           <CardContent>
+             <form onSubmit={handleSubmit} className="space-y-4">
+               {/* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */}
+               {error && (
+                 <div className="bg-red-50 border border-red-200 rounded-lg p-3 flex items-center space-x-2 text-red-700">
+                   <AlertCircle className="h-4 w-4 flex-shrink-0" />
+                   <span className="text-sm">{error}</span>
+                 </div>
+               )}
+ 
+               {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼å */}
+               <div className="space-y-2">
+                 <label htmlFor="username" className="text-sm font-medium text-gray-700">
+                   ãƒ¦ãƒ¼ã‚¶ãƒ¼å
+                 </label>
+                 <Input
+                   id="username"
+                   name="username"
+                   type="text"
+                   placeholder="ãŠçˆ¶ã•ã‚“ã€ãŠæ¯ã•ã‚“ãªã©"
+                   value={formData.username}
+                   onChange={handleInputChange}
+                   className="h-12"
+                   disabled={isLoading}
+                 />
+               </div>
+ 
+               {/* ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ */}
+               <div className="space-y-2">
+                 <label htmlFor="email" className="text-sm font-medium text-gray-700">
+                   ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
+                 </label>
+                 <Input
+                   id="email"
+                   name="email"
+                   type="email"
+                   placeholder="example@family.com"
+                   value={formData.email}
+                   onChange={handleInputChange}
+                   className="h-12"
+                   disabled={isLoading}
+                 />
+               </div>
+ 
+               {/* ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ */}
+               <div className="space-y-2">
+                 <label htmlFor="password" className="text-sm font-medium text-gray-700">
+                   ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
+                 </label>
+                 <div className="relative">
+                   <Input
+                     id="password"
+                     name="password"
+                     type={showPassword ? 'text' : 'password'}
+                     placeholder="8æ–‡å­—ä»¥ä¸Šã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰"
+                     value={formData.password}
+                     onChange={handleInputChange}
+                     className="h-12 pr-12"
+                     disabled={isLoading}
+                   />
+                   <button
+                     type="button"
+                     onClick={() => setShowPassword(!showPassword)}
+                     className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"
+                     disabled={isLoading}
+                   >
+                     {showPassword ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
+                   </button>
+                 </div>
+               </div>
+ 
+               {/* ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª */}
+               <div className="space-y-2">
+                 <label htmlFor="confirmPassword" className="text-sm font-medium text-gray-700">
+                   ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª
+                 </label>
+                 <div className="relative">
+                   <Input
+                     id="confirmPassword"
+                     name="confirmPassword"
+                     type={showConfirmPassword ? 'text' : 'password'}
+                     placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å†å…¥åŠ›"
+                     value={formData.confirmPassword}
+                     onChange={handleInputChange}
+                     className="h-12 pr-12"
+                     disabled={isLoading}
+                   />
+                   <button
+                     type="button"
+                     onClick={() => setShowConfirmPassword(!showConfirmPassword)}
+                     className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"
+                     disabled={isLoading}
+                   >
+                     {showConfirmPassword ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
+                   </button>
+                 </div>
+               </div>
+ 
+               {/* ç™»éŒ²ãƒœã‚¿ãƒ³ */}
+               <Button
+                 type="submit"
+                 className="w-full h-12 text-base"
+                 disabled={isLoading}
+               >
+                 {isLoading ? (
+                   <div className="flex items-center space-x-2">
+                     <div className="animate-spin rounded-full h-4 w-4 border-b-2 border-white"></div>
+                     <span>ç™»éŒ²ä¸­...</span>
+                   </div>
+                 ) : (
+                   'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ'
+                 )}
+               </Button>
+             </form>
+ 
+             {/* ãƒ­ã‚°ã‚¤ãƒ³ãƒªãƒ³ã‚¯ */}
+             <div className="mt-6 text-center">
+               <p className="text-sm text-gray-600">
+                 æ—¢ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã®æ–¹ã¯{' '}
+                 <Link 
+                   href="/login" 
+                   className="text-primary-600 hover:text-primary-700 font-medium"
+                 >
+                   ãƒ­ã‚°ã‚¤ãƒ³
+                 </Link>
+               </p>
+             </div>
+           </CardContent>
+         </Card>
+ 
+         {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}
+         <div className="mt-8 text-center text-xs text-gray-500">
+           <p>Â© 2024 å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸</p>
+           <p className="mt-1">
+             ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ç‰ˆ - æ–°è¦ç™»éŒ²å¾Œã™ãã«ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™
+           </p>
+         </div>
+       </div>
+     </div>
+   );
+ } 
```

---

```bash
cd family-cloud-prototype && npm run dev
```

---

```diff
- This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).
- 
- ## Getting Started
- 
- First, run the development server:
+ # å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ - ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—
+ 
+ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€å®¶æ—å‘ã‘ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã®UIãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã§ã™ã€‚
+ 
+ ## ğŸŒŸ æ©Ÿèƒ½
+ 
+ ### å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
+ - âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼** - ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ»æ–°è¦ç™»éŒ²
+ - âœ… **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** - çµ±è¨ˆæƒ…å ±ãƒ»æœ€è¿‘ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
+ - âœ… **ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†** - ä¸€è¦§è¡¨ç¤ºãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»å‰Šé™¤ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
+ - âœ… **ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†** - ä½œæˆãƒ»éšå±¤æ§‹é€ ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
+ - âœ… **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡** - ä½¿ç”¨é‡è¡¨ç¤ºãƒ»ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
+ - âœ… **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³** - ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ
+ 
+ ### ãƒ‡ãƒ¢æ©Ÿèƒ½
+ - ğŸ­ **ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿** - å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§å‹•ä½œ
+ - ğŸ­ **ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³** - é€²æ—è¡¨ç¤ºä»˜ãã®ç–‘ä¼¼ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
+ - ğŸ­ **å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†** - 4äººã®å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿
+ 
+ ## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
+ 
+ - **Frontend**: Next.js 14 (App Router)
+ - **UI Framework**: Tailwind CSS + shadcn/ui
+ - **State Management**: Zustand
+ - **Icons**: Lucide React
+ - **Language**: TypeScript
+ 
+ ## ğŸ“± ç”»é¢æ§‹æˆ
+ 
+ 1. **ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢** (`/login`)
+    - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
+    - ãƒ‡ãƒ¢ç”¨ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³
+ 
+ 2. **æ–°è¦ç™»éŒ²ç”»é¢** (`/register`)
+    - ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›
+    - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
+ 
+ 3. **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** (`/dashboard`)
+    - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰çŠ¶æ³
+    - æœ€è¿‘ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
+    - ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
+    - ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ï¼ˆã‚°ãƒªãƒƒãƒ‰ãƒ»ãƒªã‚¹ãƒˆè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆï¼‰
+ 
+ 4. **ã‚µã‚¤ãƒ‰ãƒãƒ¼**
+    - ãƒ•ã‚©ãƒ«ãƒ€éšå±¤ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
+    - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
+    - æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
+ 
+ ## ğŸ¯ ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
+ 
+ ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã§ã¯ä»¥ä¸‹ã®ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š
+ 
+ ### ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
+ - **ãƒ¡ãƒ¼ãƒ«**: `father@family.com`
+ - **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `password123`
+ - **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: ãŠçˆ¶ã•ã‚“
+ 
+ ### ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
+ - **ãƒ¡ãƒ¼ãƒ«**: `mother@family.com`
+ - **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `password123`
+ - **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: ãŠæ¯ã•ã‚“
+ 
+ ## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
+ 
+ ### å‰ææ¡ä»¶
+ - Node.js 18.0.0 ä»¥ä¸Š
+ - npm ã¾ãŸã¯ yarn
+ 
+ ### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †
+ 
+ 1. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
+    ```bash
+    npm install
+    ```
+ 
+ 2. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**
+    ```bash
+    npm run dev
+    ```
+ 
+ 3. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹**
+    ```
+    http://localhost:3000
+    ```
+ 
+ ## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
+ 
+ ```
+ family-cloud-prototype/
+ â”œâ”€â”€ src/
+ â”‚   â”œâ”€â”€ app/                    # Next.js App Router
+ â”‚   â”‚   â”œâ”€â”€ login/             # ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
+ â”‚   â”‚   â”œâ”€â”€ register/          # æ–°è¦ç™»éŒ²ç”»é¢
+ â”‚   â”‚   â”œâ”€â”€ dashboard/         # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
+ â”‚   â”‚   â””â”€â”€ layout.tsx         # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
+ â”‚   â”œâ”€â”€ components/            # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
+ â”‚   â”‚   â”œâ”€â”€ ui/                # shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
+ â”‚   â”‚   â”œâ”€â”€ layout/            # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
+ â”‚   â”‚   â”œâ”€â”€ features/          # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
+ â”‚   â”‚   â””â”€â”€ providers/         # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
+ â”‚   â”œâ”€â”€ stores/                # Zustand ã‚¹ãƒˆã‚¢
+ â”‚   â”œâ”€â”€ types/                 # TypeScriptå‹å®šç¾©
+ â”‚   â””â”€â”€ lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
+ â”œâ”€â”€ public/                    # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
+ â””â”€â”€ docs/                      # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
+ ```
+ 
+ ## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
+ 
+ ### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
+ - **Primary**: é’ç³»ï¼ˆ#3b82f6ï¼‰- ä¿¡é ¼æ„Ÿãƒ»å®‰å¿ƒæ„Ÿ
+ - **Secondary**: ç·‘ç³»ï¼ˆ#10b981ï¼‰- æˆåŠŸãƒ»å®Œäº†
+ - **Warning**: ã‚ªãƒ¬ãƒ³ã‚¸ç³»ï¼ˆ#f59e0bï¼‰- æ³¨æ„ãƒ»è­¦å‘Š
+ - **Error**: èµ¤ç³»ï¼ˆ#ef4444ï¼‰- ã‚¨ãƒ©ãƒ¼ãƒ»å‰Šé™¤
+ 
+ ### ãƒ•ã‚©ãƒ³ãƒˆ
+ - **Base**: 16pxä»¥ä¸Šï¼ˆèª­ã¿ã‚„ã™ã•é‡è¦–ï¼‰
+ - **Weight**: 400ï¼ˆRegularï¼‰, 500ï¼ˆMediumï¼‰, 700ï¼ˆBoldï¼‰
+ 
+ ### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
+ - **ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: 44pxä»¥ä¸Š
+ - **ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”**: WCAG AAæº–æ‹ 
+ - **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: å¯¾å¿œæ¸ˆã¿
+ 
+ ## ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
  
  ```bash
+ # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
  npm run dev
- # or
- yarn dev
- # or
- pnpm dev
- # or
- bun dev
- ```
- 
- Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.
- 
- You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.
- 
- This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.
- 
- ## Learn More
- 
- To learn more about Next.js, take a look at the following resources:
- 
- - [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- - [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.
- 
- You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!
- 
- ## Deploy on Vercel
- 
- The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.
- 
- Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
+ 
+ # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
+ npm run build
+ 
+ # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
+ npm start
+ 
+ # ãƒªãƒ³ã‚¿ãƒ¼å®Ÿè¡Œ
+ npm run lint
+ 
+ # å‹ãƒã‚§ãƒƒã‚¯
+ npm run type-check
+ ```
+ 
+ ## ğŸ“‹ å®Ÿè£…äºˆå®šæ©Ÿèƒ½
+ 
+ ### Phase 2ï¼ˆæœ¬æ ¼å®Ÿè£…æ™‚ï¼‰
+ - [ ] **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API** - FastAPI + PostgreSQL
+ - [ ] **å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰** - Backblaze B2é€£æº
+ - [ ] **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†** - å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼æ‹›å¾…ãƒ»æ¨©é™ç®¡ç†
+ - [ ] **æ¤œç´¢æ©Ÿèƒ½** - ãƒ•ã‚¡ã‚¤ãƒ«åãƒ»ã‚¿ã‚°ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¤œç´¢
+ - [ ] **å…±æœ‰æ©Ÿèƒ½** - ãƒªãƒ³ã‚¯å…±æœ‰ãƒ»æ¨©é™è¨­å®š
+ - [ ] **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½** - è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒ
+ 
+ ### Phase 3ï¼ˆæ‹¡å¼µæ©Ÿèƒ½ï¼‰
+ - [ ] **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª** - React Native
+ - [ ] **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒª** - Electron
+ - [ ] **AIæ©Ÿèƒ½** - ç”»åƒèªè­˜ãƒ»è‡ªå‹•ã‚¿ã‚°ä»˜ã‘
+ - [ ] **é€šçŸ¥æ©Ÿèƒ½** - ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ãƒ»ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
+ 
+ ## ğŸ› æ—¢çŸ¥ã®å•é¡Œ
+ 
+ - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯å®Ÿéš›ã«ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã¾ã›ã‚“ï¼ˆãƒ¢ãƒƒã‚¯å®Ÿè£…ï¼‰
+ - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ç”»åƒä»¥å¤–ã¯å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“
+ - ãƒ¢ãƒã‚¤ãƒ«ã§ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã¯æœªå¯¾å¿œ
+ 
+ ## ğŸ¤ è²¢çŒ®
+ 
+ ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ®µéšã®ãŸã‚ã€ç¾åœ¨ã¯å¤–éƒ¨ã‹ã‚‰ã®è²¢çŒ®ã¯å—ã‘ä»˜ã‘ã¦ã„ã¾ã›ã‚“ã€‚
+ 
+ ## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
+ 
+ ã“ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¯å†…éƒ¨é–‹ç™ºç”¨ã§ã™ã€‚
+ 
+ ## ğŸ“ ã‚µãƒãƒ¼ãƒˆ
+ 
+ ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«é–¢ã™ã‚‹è³ªå•ã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯ã€é–‹ç™ºãƒãƒ¼ãƒ ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
+ 
+ ---
+ 
+ **ğŸ‰ ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ï¼**
+ 
+ ã“ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¯ã€å®Ÿéš›ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºã«å‘ã‘ãŸæ¦‚å¿µå®Ÿè¨¼ï¼ˆPoCï¼‰ã¨ã—ã¦ä½œæˆã•ã‚Œã¾ã—ãŸã€‚UI/UXã®æ¤œè¨¼ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã®å¦¥å½“æ€§ç¢ºèªã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆãªã©ã«ã”æ´»ç”¨ãã ã•ã„ã€‚
  
```

---

## ğŸ‰ å®¶æ—ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸UIãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãŒå®Œæˆã—ã¾ã—ãŸï¼

è¨­è¨ˆæ›¸ã«åŸºã¥ã„ã¦ã€å®¶æ—å‘ã‘ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨ãªUIãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½œæˆã—ã¾ã—ãŸã€‚

### âœ¨ å®Ÿè£…ã—ãŸä¸»è¦æ©Ÿèƒ½

1. **ğŸ” èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **
   - ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ï¼ˆãƒ‡ãƒ¢ç”¨ã‚¯ã‚¤ãƒƒã‚¯ãƒ­ã‚°ã‚¤ãƒ³ä»˜ãï¼‰
   - æ–°è¦ç™»éŒ²ç”»é¢
   - èªè¨¼çŠ¶æ…‹ç®¡ç†

2. **ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**
   - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ã®å¯è¦–åŒ–
   - ãƒ•ã‚¡ã‚¤ãƒ«çµ±è¨ˆæƒ…å ±
   - æœ€è¿‘ã®ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤º
   - ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

3. **ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†**
   - ã‚°ãƒªãƒƒãƒ‰ãƒ»ãƒªã‚¹ãƒˆè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
   - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆé€²æ—è¡¨ç¤ºä»˜ãï¼‰
   - ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
   - è¤‡æ•°é¸æŠæ©Ÿèƒ½

4. **ğŸ—‚ï¸ ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†**
   - éšå±¤æ§‹é€ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
   - æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
   - ãƒ•ã‚©ãƒ«ãƒ€é–“ç§»å‹•

5. **ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**
   - ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ
   - ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é–‹é–‰æ©Ÿèƒ½
   - ã‚¿ãƒƒãƒãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªUI

### ğŸ› ï¸ æŠ€è¡“ä»•æ§˜

- **Frontend**: Next.js 14 (App Router) + TypeScript
- **UI Framework**: Tailwind CSS + shadcn/ui
- **State Management**: Zustand
- **Icons**: Lucide React
- **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **: å®¶æ—å‘ã‘ã®æ¸©ã‹ã¿ã®ã‚ã‚‹é’ç³»ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

### ğŸ¯ ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

**ç®¡ç†è€…**: `father@family.com` / `password123`  
**ãƒ¦ãƒ¼ã‚¶ãƒ¼**: `mother@family.com` / `password123`

### ğŸš€ èµ·å‹•æ–¹æ³•

ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¯æ—¢ã«èµ·å‹•ä¸­ã§ã™ï¼ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã”ç¢ºèªãã ã•ã„ã€‚

### ğŸ“‹ ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®ç‰¹å¾´

- **80%å“è³ª**: å®Ÿéš›ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«è¿‘ã„å®Œæˆåº¦
- **ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—ã§å‹•ä½œ
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’å†ç¾
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG AAæº–æ‹ ã®ãƒ‡ã‚¶ã‚¤ãƒ³

ã“ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ä½¿ã£ã¦ã€UI/UXã®æ¤œè¨¼ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã€ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã®åˆæ„å½¢æˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿéš›ã®é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ã€ã“ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIé€£æºã‚„æœ¬æ ¼çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

ä½•ã‹ã”è³ªå•ã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠèã‹ã›ãã ã•ã„ï¼ğŸŒŸ

---

_**User**_

@doc-11-debug.mdc ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ

---

_**Assistant**_



---

